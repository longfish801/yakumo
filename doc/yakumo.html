<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>概要</title>
<link href="/yakumo/_asset/style.css" rel="stylesheet">
<script src="/yakumo/_asset/script.js"></script>
</head>
<body>

<header class="container">
<h1>概要</h1>

<nav class="list-group">
<a href="#id2_1" class="list-group-item">yakumoとは</a>
<a href="#id2_2" class="list-group-item">変換に利用するクラス</a>
<a href="#id2_3" class="list-group-item">構成</a>
</nav>
</header>

<article class="container">
<h2><a name="id2_1"></a>yakumoとは</h2>

<p>　yakumoは、特定の書式に従うテキストを構造化、変換するためのライブラリです。<br/>
　名称は、マークアップを主に約物で実現することに由来しています。<br/>
　yakumoにはあらかじめ書式が用意されていますが、それを拡張／改変することもできます。</p>

<p>　おおまかには事前整形、構造化、加工、テンプレート適用の順序でテキストを変換します。<br/>
　まずテキストを事前整形します。XMLのように階層関係がある、構造化が可能な記法（BLtxt記法）に沿った文書にします。<br/>
　構造化した文書から、各要素を参照して加工し、テンプレートを適用することで目的のテキストを得ます。</p>

<p>　テキストは直接 BLtxt記法で記述しても構いませんが、やや煩雑になります。<br/>
　慣用的な表現で記述し、yakumoによって各形式へ変換するほうが省力できます。</p>

<p>　yakumoには、デフォルトで慣用的な表現を BLtxt記法へ事前整形するスクリプトが用意されています。<br/>
　詳しくは<a href="convert_bltxt.html">BLtxt変換</a>を参照してください。</p>

<p>　yakumoには、デフォルトで BLtxt記法を HTMLへ変換するための設定が用意されています。<br/>
　詳しくは<a href="convert_bltxt.html">HTML変換</a>を参照してください。</p>

<h2><a name="id2_2"></a>変換に利用するクラス</h2>

<p>　パッケージ io.github.longfish801.yakumo配下に、以下のクラスがあります。</p>

<dl>
<dt><a href="ymoscript.html">YmoScript</a></dt>
<dd>文字列から文字列へ、ひとつの入力ファイルから出力ファイルへの変換を実現します。</dd>
<dt><a href="ymodocument.html">YmoDocument</a></dt>
<dd>特定のフォルダ直下に存在するテキストファイルの一括変換を実現します。</dd>
</dl>

<h2><a name="id2_3"></a>構成</h2>

<p>　yakumoは主に、以下のサブパッケージから構成されています。</p>

<dl>
<dt>io.github.longfish801.yakumo.washscr</dt>
<dd>WashScr記法の解析／実行のためのパッケージです。</dd>
<dt>io.github.longfish801.yakumo.bltxt</dt>
<dd>BLtxt記法の解析のためのパッケージです。</dd>
<dt>io.github.longfish801.yakumo.clmap</dt>
<dd>Clmap記法の参照／実行のためのパッケージです。</dd>
<dt>io.github.longfish801.yakumo.tpac</dt>
<dd>TPAC文書を扱うためのパッケージです。</dd>
</dl>

<p>　事前整形には washscrを利用します。<br/>
　WashScr記法で記述されたスクリプトにより、テキストに対して置換処理などを施します。<br/>
　これによりテキストを BLtxt文書に整形します。<br/>
　詳細は<a href="washscr.html">WashScr記法</a>を参照してください。</p>

<p>　構造化には bltxtを利用します。<br/>
　BLtxt記法で記述された文書は、XMLのように階層関係のある構造を持たせることができます。<br/>
　BLtxt文書を読みこんで、BLtxtインスタンスへ変換します。<br/>
　詳細は<a href="bltxt.html">BLtxt記法</a>を参照してください。</p>

<p>　加工には clmapを利用します。<br/>
　Clmap記法により、複数のクロージャをまとめたクロージャマップを定義できます。<br/>
　BLtxtインスタンスをクロージャで加工します。<br/>
　詳細は<a href="clmap.html">Clmap記法</a>を参照してください。</p>

<p>　加工した結果をテンプレートに適用することで、目的のテキストを得ます。<br/>
　テンプレートへの適用には groovy.text.SimpleTemplateEngineを利用します。</p>

<p>　tpacは、TPAC記法を解析するためのライブラリです。<br/>
　WashScr文書や Clmap文書は TPAC記法をベースとしています。<br/>
　詳細は<a href="tpac.html">TPAC記法</a>を参照してください。</p>

<p>以上</p>

</article>

<footer class="container">
<a href="index.html">戻る</a>
</footer>

</body>
</html>
