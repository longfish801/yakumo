<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YmoDocument</title>
<link href="/yakumo/_asset/style.css" rel="stylesheet">
<script src="/yakumo/_asset/script.js"></script>
</head>
<body>

<header class="container">
<h1>YmoDocument</h1>

<nav class="list-group">
<a href="#id2_1" class="list-group-item">YmoDocumentとは</a>
<a href="#id2_2" class="list-group-item">サンプル</a>
<a href="#id2_3" class="list-group-item">変換対象</a>
</nav>
</header>

<article class="container">
<h2><a name="id2_1"></a>YmoDocumentとは</h2>

<p>　<a href="/yakumo/groovydoc/io/github/longfish801/yakumo/YmoDocument.html">YmoDocument</a>は、特定のフォルダ直下に存在するテキストファイルの一括変換を実現します。</p>

<h2><a name="id2_2"></a>サンプル</h2>

<p>　本ドキュメントも YmoDocumentで生成しています。<br/>
　本ドキュメントを生成するサンプルスクリプト（<a href="ymodocumentSample/sample.groovy">ymodocumentSample/sample.groovy</a>）を以下に示します。</p>

<pre class="code">
@GrabResolver(name = 'longfish801 github repositry', root = 'https://longfish801.github.io/maven/')
@Grab('io.github.longfish801:yakumo:0.1.00')
@GrabExclude('org.codehaus.groovy:groovy-all')
import io.github.longfish801.yakumo.YmoDocument;
import io.github.longfish801.yakumo.YmoConvertException;
try {
	new YmoDocument(new File('..').getCanonicalFile()).run('_html');
} catch (YmoConvertException exc){
	println &quot;変換に失敗しました。exc=${exc}&quot;;
}
</pre>

<h2><a name="id2_3"></a>変換対象</h2>

<p>　テキストファイル（拡張子txt）を変換対象とします。<br/>
　複数のファイル、あるいは複数のテキストファイルが格納されたフォルダを指定します。<br/>
　サブフォルダ内のファイルは変換対象としません。</p>

<p>　変換対象のファイルに共通する親フォルダを、変換対象フォルダと呼びます。<br/>
　変換対象フォルダの直下に、変換名と同じ名前のフォルダを作成します。<br/>
　そこに、以下のように変換に必要なファイルを格納します。</p>

<pre>変換対象フォルダ
　├変換対象テキストファイル１（拡張子txt）
　├変換対象テキストファイル２（拡張子txt）
　├ &hellip;
　├変換対象テキストファイルｎ（拡張子txt）
　└設定フォルダ（変換名）
　　　├変換スクリプト（ymoscript.groovy）
　　　├Washスクリプト格納フォルダ（washscr）
　　　│　├Washスクリプト１（拡張子tpac）
　　　│　├Washスクリプト２（拡張子tpac）
　　　│　├ &hellip;
　　　│　└Washスクリプトｎ（拡張子tpac）
　　　├クロージャマップ格納フォルダ（clmap）
　　　│　├クロージャマップ１（拡張子tpac）
　　　│　├クロージャマップ２（拡張子tpac）
　　　│　├ &hellip;
　　　│　└クロージャマップｎ（拡張子tpac）
　　　├テンプレート格納フォルダ（template）
　　　│　├テンプレート１
　　　│　├テンプレート２
　　　│　├ &hellip;
　　　│　└テンプレートｎ
　　　├メタ定義格納フォルダ（meta）
　　　│　├メタ定義ファイル１（拡張子txt）
　　　│　├メタ定義ファイル２（拡張子txt）
　　　│　├ &hellip;
　　　│　└メタ定義ファイルｎ（拡張子txt）
　　　└固定ファイル格納フォルダ（asset）
　　　　　├固定ファイル１
　　　　　├固定ファイル２
　　　　　├ &hellip;
　　　　　└固定ファイルｎ</pre>

<p>　出力フォルダや、固定ファイルのコピー方法などは変換スクリプトにて設定します。<br/>
　変換スクリプトには以下のバインド変数を使用できます。</p>

<dl>
<dt>ymoDocument</dt>
<dd>YmoDocumentインスタンスです。</dd>
<dt>engine</dt>
<dd>ConvertEngineインスタンスです。</dd>
<dt>assetHandler</dt>
<dd>AssetHandlerインスタンスです。</dd>
<dt>conversionName</dt>
<dd>変換名です。</dd>
<dt>targetDir</dt>
<dd>変換対象フォルダです。</dd>
<dt>conversionDir</dt>
<dd>設定フォルダです。</dd>
</dl>

<p>　適用するテンプレートは以下のとおり決定します。</p>

<ul>
<li>変換対象のファイルと名前が一致するテンプレート（拡張子は除きます）。</li>
<li>変換名と名前が一致するテンプレート（デフォルト）。</li>
</ul>

<p>以上</p>

</article>

<footer class="container">
<a href="index.html">戻る</a>
</footer>

</body>
</html>
